/* ============================================================================
   TARDIS – Cards (HTML -> PDF)
   Objectif : impression fiable, mm/cm respectés
   ========================================================================== */

/* -----------------------------
   Carte individuelle
   ----------------------------- */

  .tardis-card{
    position: relative;

    box-sizing: border-box;
    width: var(--card-w);
    height: var(--card-h);

    /* couleur d’accent par défaut */
    --card-accent: var(--card-accent-default);

    /* Accent ultra fiable (PDF) */
    border-left: 4mm solid var(--card-accent);

    border-top: 0.35mm solid var(--card-border-color);
    border-right: 0.35mm solid var(--card-border-color);
    border-bottom: 0.35mm solid var(--card-border-color);

    /* asymétrie TARDIS */
    border-radius: 4mm 2mm 4mm 2mm;

    background: var(--card-bg, #ffffff);

    /* padding: plus besoin de réserver l’accent */
    padding: 3mm;

    display: flex;
    flex-direction: column;

    /* stabilité impression */
    break-inside: avoid;
    page-break-inside: avoid;

    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;

    /* profondeur papier (sans outline) */
    box-shadow: inset 0 0 0 0.6mm rgba(0,0,0,0.15);
  }

/* -----------------------------
   Titre de carte
   ----------------------------- */

.tardis-card__title{
  margin: 0 0 2mm 0;
  line-height: 1.1;
  font-weight: 700;
}

/* -----------------------------
   Contenu de carte
   ----------------------------- */

.tardis-card__content > :first-child{
  margin-top: 0;
}

.tardis-card__content > :last-child{
  margin-bottom: 0;
}

/* -----------------------------
   Grille de cartes (planche)
   ----------------------------- */

.tardis-cardgrid{
  /* taille standard des cartes */
  --card-w: 63mm;
  --card-h: 88mm;

  display: grid;
  gap: 4mm;
  align-items: start;

  break-inside: avoid;
}

/* variantes colonnes */
.tardis-cardgrid.cols-2{ grid-template-columns: repeat(2, auto); }
.tardis-cardgrid.cols-3{ grid-template-columns: repeat(3, auto); }
.tardis-cardgrid.cols-4{ grid-template-columns: repeat(4, auto); }

/* -----------------------------
   Mode impression
   ----------------------------- */

@media print {

  @page{
    size: A4 portrait;
    margin: 10mm;
  }

  /* neutraliser l’UI RTD à l’impression */
  .wy-nav-side,
  .wy-nav-content-wrap > nav,
  .rst-versions{
    display: none !important;
  }

  .wy-nav-content-wrap{
    margin-left: 0 !important;
  }

  .wy-nav-content{
    max-width: none !important;
  }
}

/* -----------------------------
   Optionnel : debug visuel
   (à activer temporairement)
   ----------------------------- */
/*
.tardis-card{
  outline: 0.2mm dashed rgba(255,0,0,0.4);
}
*/
