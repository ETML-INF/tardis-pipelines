/* ============================================================================
   TARDIS – Cards (HTML -> PDF)
   Objectif : impression fiable, mm/cm respectés
   ========================================================================== */


/* -----------------------------
   Carte individuelle
   ----------------------------- */
.tardis-cardgrid > .docutils.container {
  display: contents;
}

.tardis-card{

  background: var(--card-bg, #ff00ff) !important;

  box-sizing: border-box;

  /* dimensions héritées ou inline */
  width: var(--card-w, auto);
  height: var(--card-h, auto);

  border: 0.35mm solid #111;
  border-radius: 2mm;
  padding: 3mm;

  /* background: var(--card-bg, #ffffff); */

  /* stabilité impression */
  break-inside: avoid;
  page-break-inside: avoid;

  /* forcer les fonds en PDF */
  -webkit-print-color-adjust: exact;
  print-color-adjust: exact;
}

/* -----------------------------
   Titre de carte
   ----------------------------- */

.tardis-card__title{
  margin: 0 0 2mm 0;
  line-height: 1.1;
  font-weight: 700;
}

/* -----------------------------
   Contenu de carte
   ----------------------------- */

.tardis-card__content > :first-child{
  margin-top: 0;
}

.tardis-card__content > :last-child{
  margin-bottom: 0;
}

/* -----------------------------
   Grille de cartes (planche)
   ----------------------------- */

.tardis-cardgrid{
  --card-w: 63.5mm;
  --card-h: 88.9mm;

  display: grid;
  gap: 4mm;
  align-items: start;

  break-inside: avoid;
}

/* variantes colonnes */
.tardis-cardgrid.cols-2{ grid-template-columns: repeat(2, var(--card-w)); }
.tardis-cardgrid.cols-3{ grid-template-columns: repeat(3, var(--card-w)); }
.tardis-cardgrid.cols-4{ grid-template-columns: repeat(4, var(--card-w)); }

/* -----------------------------
   Mode impression
   ----------------------------- */

@media print {

  @page{
    size: A4 portrait;
    margin: 10mm;
  }

  /* neutraliser l’UI RTD à l’impression */
  .wy-nav-side,
  .wy-nav-content-wrap > nav,
  .rst-versions{
    display: none !important;
  }

  .wy-nav-content-wrap{
    margin-left: 0 !important;
  }

  .wy-nav-content{
    max-width: none !important;
  }
}

/* -----------------------------
   Optionnel : debug visuel
   (à activer temporairement)
   ----------------------------- */
/*
.tardis-card{
  outline: 0.2mm dashed rgba(255,0,0,0.4);
}
*/
